<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HealthTracker Pro - Personal Health Management</title>
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self';
             img-src 'self' data:;
             style-src 'self' 'unsafe-inline' https://vercel.live;
             script-src 'self' 'unsafe-inline' https://vercel.live;
             connect-src 'self' https://vercel.live;
             font-src 'self' data:;
             frame-ancestors 'none';
             base-uri 'self';
             form-action 'self'">
  <link rel="stylesheet" href="assets/styles.css" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>💊</text></svg>">
</head>

<body>
  <!-- Toast Notifications -->
  <div id="toast-region" aria-live="polite" aria-atomic="true" class="toast-region"></div>

  <!-- HIPAA Disclaimer Modal -->
  <div id="hipaa-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>⚠️ Important Privacy Notice</h2>
      </div>
      <div class="modal-body">
        <h3>HIPAA Compliance Disclaimer</h3>
        <p><strong>This application is NOT HIPAA compliant and should not be used to store Protected Health Information (PHI) that requires HIPAA compliance.</strong></p>
        
        <h4>What This Means:</h4>
        <ul>
          <li>This is a personal tracking tool for your own use</li>
          <li>Data is stored locally in your browser only</li>
          <li>We do not transmit your health data to any servers</li>
          <li>This tool is not a substitute for professional medical advice</li>
          <li>Always consult with healthcare professionals about your health</li>
        </ul>

        <h4>Your Privacy:</h4>
        <ul>
          <li>All data is stored locally on your device</li>
          <li>You can export and delete your data at any time</li>
          <li>Clear your browser data to remove all information</li>
          <li>Use the export feature to create backups</li>
        </ul>

        <h4>Security Recommendations:</h4>
        <ul>
          <li>Do not use on shared or public computers</li>
          <li>Keep your device password-protected</li>
          <li>Regularly backup your data using the export feature</li>
          <li>Do not share sensitive health information via unsecured channels</li>
        </ul>

        <div class="checkbox-container">
          <label>
            <input type="checkbox" id="hipaa-acknowledge" />
            I understand that this application is not HIPAA compliant and I agree to use it at my own discretion for personal health tracking only.
          </label>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" id="hipaa-accept" disabled>Accept & Continue</button>
      </div>
    </div>
  </div>

  <div class="layout">
    <!-- Sidebar Navigation -->
    <nav class="sidenav" aria-label="Primary">
      <div class="brand">
        <span class="brand-icon">💊</span>
        <span>HealthTracker Pro</span>
      </div>
      <ul>
        <li><a href="#dashboard" data-nav aria-current="page">📊 Dashboard</a></li>
        <li><a href="#medications" data-nav>💊 Medications</a></li>
        <li><a href="#vitals" data-nav>❤️ Vitals</a></li>
        <li><a href="#symptoms" data-nav>📝 Symptoms & Side Effects</a></li>
        <li><a href="#weight" data-nav>⚖️ Weight Tracking</a></li>
        <li><a href="#goals" data-nav>🎯 Goals & Achievements</a></li>
        <li><a href="#bulk-entry" data-nav>📋 Bulk Data Entry</a></li>
        <li><a href="#reports" data-nav>📈 Reports & Export</a></li>
        <li><a href="#settings" data-nav>⚙️ Settings</a></li>
      </ul>
      <div class="sidenav-footer">
        <button class="btn btn-small" id="quick-export">Quick Export</button>
        <button class="btn btn-small" id="view-hipaa">Privacy Notice</button>
      </div>
    </nav>

    <main id="main" class="main" role="main">
      <p>Loading application...</p>
    </main>
  </div>

  <!-- Load external JS modules in dependency order -->
  <script src="js/store.js"></script>
  <script src="js/consent.js"></script>
  <script src="js/nav.js"></script>
  <script src="js/telemetry.js"></script>
  <script src="js/sampling.js"></script>
  <script src="js/app.js"></script>
  <script src="js/app-enhanced.js"></script>
  
  <!-- Initialize app LAST - after all dependencies are loaded -->
  <script src="js/init.js"></script>

</body>
</html>
