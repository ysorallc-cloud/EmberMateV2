<!-- ============================================ -->
<!-- COPY THIS ENTIRE SECTION -->
<!-- Paste this RIGHT BEFORE the closing </body> tag in your index.html -->
<!-- (Around line 699, just before </body>) -->
<!-- ============================================ -->

<!-- Sample Data Loader Button -->
<style>
  .sample-data-buttons {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
    display: flex;
    gap: 10px;
    flex-direction: column;
  }

  .sample-data-btn {
    padding: 15px 25px;
    border: none;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    transition: all 0.3s ease;
    font-size: 14px;
  }

  .sample-data-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
  }

  .sample-data-btn-load {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
  }

  .sample-data-btn-clear {
    background: #dc3545;
    color: white;
    display: none;
  }

  @media (max-width: 768px) {
    .sample-data-buttons {
      bottom: 10px;
      right: 10px;
    }
    .sample-data-btn {
      padding: 12px 20px;
      font-size: 13px;
    }
  }
</style>

<div class="sample-data-buttons">
  <button class="sample-data-btn sample-data-btn-load" id="load-sample-btn">
    üìä Load Sample Data
  </button>
  <button class="sample-data-btn sample-data-btn-clear" id="clear-sample-btn">
    üóëÔ∏è Clear Data
  </button>
</div>

<script>
  (function() {
    const STORAGE_KEY = 'healthTrackerData';
    const SAMPLE_DATA_URL = './sample-data.json';

    // Show/hide clear button based on data
    function updateButtonVisibility() {
      const clearBtn = document.getElementById('clear-sample-btn');
      const hasData = localStorage.getItem(STORAGE_KEY);
      if (clearBtn) {
        clearBtn.style.display = hasData ? 'block' : 'none';
      }
    }

    // Toast notification
    function showToast(message, type = 'info') {
      const colors = {
        success: { bg: '#d4edda', color: '#155724' },
        error: { bg: '#f8d7da', color: '#721c24' },
        info: { bg: '#d1ecf1', color: '#0c5460' }
      };
      
      const toast = document.createElement('div');
      const style = colors[type] || colors.info;
      
      toast.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 15px 25px;
        border-radius: 10px;
        font-weight: 600;
        z-index: 10001;
        max-width: 400px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        background: ${style.bg};
        color: ${style.color};
        animation: slideIn 0.3s ease;
      `;
      
      toast.textContent = message;
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.animation = 'slideIn 0.3s ease reverse';
        setTimeout(() => toast.remove(), 300);
      }, 3000);
    }

    // Load sample data
    async function loadSampleData() {
      try {
        showToast('Loading sample data...', 'info');
        
        const response = await fetch(SAMPLE_DATA_URL);
        if (!response.ok) throw new Error('Failed to load sample-data.json');
        
        const data = await response.json();
        localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
        
        showToast('‚úÖ Sample data loaded! Refreshing...', 'success');
        updateButtonVisibility();
        
        setTimeout(() => window.location.reload(), 1500);
      } catch (error) {
        showToast('‚ùå Error: Make sure sample-data.json is in the same directory', 'error');
        console.error('Error loading sample data:', error);
      }
    }

    // Clear data
    function clearData() {
      if (!confirm('Clear all health tracking data? This cannot be undone!')) return;
      
      localStorage.removeItem(STORAGE_KEY);
      showToast('üóëÔ∏è Data cleared! Refreshing...', 'success');
      
      setTimeout(() => window.location.reload(), 1500);
    }

    // Show load modal with info
    function showLoadModal() {
      const existing = localStorage.getItem(STORAGE_KEY);
      let warningHTML = '';
      
      if (existing) {
        warningHTML = `
          <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 15px 0; border-radius: 8px;">
            <strong style="color: #856404;">‚ö†Ô∏è Warning:</strong>
            <p style="color: #856404; margin: 5px 0 0 0;">
              You have existing data. This will replace it! Consider exporting first.
            </p>
          </div>
        `;
      }
      
      const modal = document.createElement('div');
      modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10000;
      `;
      
      modal.innerHTML = `
        <div style="background: white; border-radius: 20px; padding: 30px; max-width: 500px; width: 90%; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);">
          <h2 style="margin: 0 0 10px 0; color: #333;">üìä Load Sample Data</h2>
          <p style="color: #666; margin: 0 0 20px 0;">
            Load a complete 90-day health journey with 550+ data points including medications, vitals, symptoms, and achievements.
          </p>
          
          <div style="background: #f0f7ff; border-left: 4px solid #667eea; padding: 15px; margin: 15px 0; border-radius: 8px;">
            <strong style="color: #667eea;">What you'll get:</strong>
            <ul style="margin: 10px 0 0 20px; color: #555;">
              <li>6 medications with prescriber info</li>
              <li>90+ days of vitals and weight data</li>
              <li>15 lbs weight loss journey</li>
              <li>BP improvement: 142/88 ‚Üí 111/67</li>
              <li>Goals, achievements, and appointments</li>
            </ul>
          </div>
          
          ${warningHTML}
          
          <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
            <button id="modal-cancel" style="padding: 10px 20px; border: 2px solid #ccc; border-radius: 8px; background: white; cursor: pointer; font-weight: 600;">
              Cancel
            </button>
            <button id="modal-confirm" style="padding: 10px 20px; border: none; border-radius: 8px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; cursor: pointer; font-weight: 600;">
              Load Data
            </button>
          </div>
          
          <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #eee; text-align: center;">
            <input type="file" id="file-upload" accept=".json" style="display: none;">
            <label for="file-upload" style="color: #667eea; cursor: pointer; font-weight: 600;">
              üìÅ Or upload sample-data.json file
            </label>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      
      // Event listeners
      modal.querySelector('#modal-cancel').onclick = () => modal.remove();
      modal.querySelector('#modal-confirm').onclick = () => {
        modal.remove();
        loadSampleData();
      };
      
      modal.querySelector('#file-upload').onchange = (e) => {
        const file = e.target.files[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = (evt) => {
          try {
            const data = JSON.parse(evt.target.result);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
            showToast('‚úÖ File loaded! Refreshing...', 'success');
            setTimeout(() => window.location.reload(), 1500);
          } catch (err) {
            showToast('‚ùå Invalid JSON file', 'error');
          }
        };
        reader.readAsText(file);
        modal.remove();
      };
      
      modal.onclick = (e) => {
        if (e.target === modal) modal.remove();
      };
    }

    // Add CSS animation
    const style = document.createElement('style');
    style.textContent = `
      @keyframes slideIn {
        from { transform: translateX(400px); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
    `;
    document.head.appendChild(style);

    // Initialize
    document.getElementById('load-sample-btn').onclick = showLoadModal;
    document.getElementById('clear-sample-btn').onclick = clearData;
    updateButtonVisibility();
  })();
</script>

<!-- ============================================ -->
<!-- END OF SECTION TO COPY -->
<!-- ============================================ -->
